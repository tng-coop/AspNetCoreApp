@page "/calendar-demo"
@inherits BlazorWebApp.Components.Shared.LocalizedComponentBase
@inject IJSRuntime JS
@inject Microsoft.Extensions.Localization.IStringLocalizer<CalendarDemo> L

<PageTitle>@L["Calendar Demo"]</PageTitle>


<div id="calendar"></div>

@code {
    private record CalendarEvent(string title, string start);

    private readonly List<CalendarEvent> events = new()
    {
        new("Board meeting", DateTime.Today.ToString("yyyy-MM-dd")),
        new("Team lunch", DateTime.Today.AddDays(3).ToString("yyyy-MM-dd")),
        new("Conference", DateTime.Today.AddDays(7).ToString("yyyy-MM-dd"))
    };

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var culture = Localization.CurrentCulture.Name;
            await JS.InvokeVoidAsync("calendarDemo.init", "calendar", events, culture);
        }
    }
}

name: Setup HTTPS Certificates

on: [push, pull_request]

jobs:
  setup-https-certificates:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: Set up .NET SDK
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: '8.x'

    - name: Install dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y libnss3-tools

    - name: Set up Google Chrome
      uses: browser-actions/setup-chrome@v1
      with:
        chrome-version: 'latest'
        install-dependencies: true

    - name: Make script executable
      run: chmod +x ./setup-https-certificates.sh

    - name: Run HTTPS setup script
      run: ./setup-https-certificates.sh
